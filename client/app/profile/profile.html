<html>
<head>
<title>Profile Page</title>
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
</head>
<body>
<div>
WELCOME TO THE USER PROFILE PAGE
  <div id="user">
  
  </div>
  <div id="boards">
    
  </div>
<script>
var boards = [];
$(function(){
$.ajax({
  url: "/user/profile", 
  type: 'GET',
  contentType: 'application/json',
  success: function(json){
        for(var i = 0; i < json.boards.length; i++) {
          boards.push(json.boards[i]);
        }
        var user = json.username;
        $('#user').append('<p>Username: ' + user + '</p>');
        boards.forEach(function(item, index, collection){
          
          var button = $('<button>DELETE</button>').attr('class', item);
          $(button).on('click', function(){
            var boardClass = button.attr('class');
            $.ajax({
              url: '/user/boards/' + boardClass,
              type: 'DELETE',
              success: function() {
                $('.' + boardClass).remove();
              }
            });
          });

          $('#boards').append('<p class="' + item + '"><a href="' + window.location.origin + '/' + item + '">' + item + '</a></p>', button);
        });
        console.log(window.location);
  },
  error: function(data) {
    console.error('Failed to fetch user information');
  }
});
  

});

</script>
</div>
</body>
</html>